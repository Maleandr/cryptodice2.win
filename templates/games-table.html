{% load humanize %}
{% load dice_extras %}

<section>
<h1>Games History</h1>
<div class="tbl-header">
    <table cellpadding="0" cellspacing="0" border="0">
    <thead>
        <tr>
            <th>created</th>
            <th>status</th>
            <th>numbers</th>            
            <th>block</th>
            <th>player</th>
            <th>transaction</th>
            <th></th>
            <th>bet</th>
            <th>amount</th>
            <th>wins</th>
        </tr>
        </thead>
    </table>
</div>
<div class="tbl-content">
    <table cellpadding="0" cellspacing="0" border="0">
    <tbody>

        {% for game in games %}
        <tr>
            <td>{{game.created|naturaltime}}</td>
            {% if game.status %}
                <td>confirmed</td>
            {% else %}
                <td>slow network</td>
            {% endif %}
            <td>
                {% for number in game.numbers|get_list_from_string %}
                    ðŸŽ²
                {% endfor %}
            </td>
            {% if game.blocknumber %}
                <td>#{{game.blocknumber}}</td>
            {% else %}
                <td>-</td>
            {% endif %}
            <td>playerplayerplayerplayerpl..</td>
            <td>
                <a href="http://ropsten.etherscan.io/tx/{{game.tx_hash}}" target="_blank">
                    {{game.tx_hash|slice:":30"}}
                </a>
            </td>
            {% if game.win_number %}
                <td>{{game.win_number}}</td>
            {% else %}
                <td></td>
            {% endif %}
            <td>{{game.numbers}}</td>
            <td>{{game.amount}}</td>
            {% if game.win_amount %}
                <td>eth-{{game.win_amount}}</td>
            {% else %}
                <td>-</td>
            {% endif %}
        </tr>
        {% endfor %}

    </tbody>
    </table>
</div>
</section>
